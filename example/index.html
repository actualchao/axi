<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .main {
            width: 400px;
            height: 200px;
            background: rgb(76, 75, 75);
        }

        .rect {
            width: 20px;
            height: 20px;
            background: rgb(17, 243, 104);
        }
    </style>
</head>

<body>
    <div class="main">
        <div class="rect"></div>
    </div>

    <script type="module">
        import { easeIns } from '../lib/ease.js'
        function getTargets() {
            return document.querySelector('.rect')
        }

        const config = {
            duration: 5000,
            width: 400,
            init: 20,
        }
        let startT
        const step = t => {
            if (startT == undefined) {
                startT = t
            }
            const progress = easeIns.back((t - startT) / config.duration)
            console.log(progress, 'progress')
            const width = Math.min(config.init + 380 * progress, 400)
            document.querySelector('.rect').style.width = width + 'px'
            if (progress < 1) {
                requestAnimationFrame(step)
            } else {
                startT = t
                requestAnimationFrame(step)
            }
        }
        requestAnimationFrame(step)
    </script>
</body>

</html>